(ns advent-2022.day-3
  (:require [clojure.string :as string]
            [clojure.set :as set]))

(def item->priority
  (zipmap
    (map char (concat (range (int \a) (inc (int \z)))
                      (range (int \A) (inc (int \Z)))))
    (rest (range))))

(def split-in-half #(split-at (/ (count %) 2) %))

(defn find-shared-item
  [strings]
  (first (apply set/intersection (map set strings))))

(defn part-one
  [input-string]
  (->> (string/split-lines input-string)
       (map split-in-half)
       (map find-shared-item)
       (map item->priority)
       (reduce +)))

(defn part-two
  [input-string]
  (->> (string/split-lines input-string)
       (partition 3)
       (map find-shared-item)
       (map item->priority)
       (reduce +)))


(def small-input "vJrwpWtwJgWrhcsFMMfFFhFp\njqHRNqRjqzjGDLGLrsFMfFZSrLrFZsSL\nPmmdzqPrVvPwwTWBwg\nwMqvLMZHhHMvwLHjbvcjnnSBnvTQFn\nttgJtRGJQctTZtZT\nCrZsJsPPZsGzwwsLwLmpwMDw")


(def large-input "zBBtHnnHtwwHplmlRlzPLCpp\nvvhJccJFGFcNsdNNJbhJsJQplQMRLQMlfdfTPCLfQQCT\nGPhjcjhZDjWtnSVH\nBNhHVhrGNVTbDHdDJdJRPJdSQQSJwPjR\nlvtsfbsqzwSnJcvjSm\nMftttFLftZMLgtgMbltMqZzbDNrTpVGhNWrDTrpTGNpZGZhD\nVSSHcTgTtTdtllZlzmmbljTn\nRqMqsFfQLLFLQFMMfRLPZLvPpCfWrbpmCbjCnfjlWmnrmmnm\nhqRDqPDRsqNHwtHSNBZtJd\ntNFDpDFrtdjfmjjjFmFFdScpZhZScTJgpHccHhMJgS\nlLzSlSCQqbsVhBghggBZgCcJ\nzRLVVLQnvQqVVzRldfWrwffjjdwSdfjv\nbpWqqqWvHBpwGBCCRl\nhJdjdJFQqdBBDMMC\ntFFzJZFtJSqtZJQsWLbNSTnffHfvTH\nlFhRZhFjPlqMlJqZJlJcRLwrLrwStRwtsVVtVSrgRV\nWcpDvDfBmpDHzWBDbpbmWmNVSSTzLTtrVswgttVVzwwr\npbWfmGBpHfDmWnvvGbmWnjjMqPJMlMFPdGcjqPqPhP\nNjFNRlpVLFCSSlbBWWfw\npssPZQQsMnzmtnQPttzDBbBJBcrrJWbrZSBJSbfC\nQTHPHspMNGHdhvRR\nQfPdSJfFJmthSthtwbsNLbPLlLTLpbvP\nnHnMBnZqqgBMnWrZMqnZVcbCqRwNsvblRwppbllTsRNp\nnZHBHznMnWgcrnVBtjFdfmzQNtNddjNF\nhFhfPghppPhpRNhzsjsvHVzjpsGnWz\ntTjlCCwMqtdMjMctGJWHwWnVwWnwvWGs\nrZdrjBBtqdCtlcdgFZQLfhRLFSgRNP\nRDHSWrJWffJFlJCgCMCDjCvzjPMP\nQtGTndBwBtNzBVjBCMgB\nLdwwMpTdwsRHsqSHqHJl\nRfsfzvLLFvFzCSvSbDsTpTGMPMZPPTMt\njqWBjwBBNwWqwPGZbTwVwVtD\nBnhgglhhNNngqjBjHNWrZLlFLSCJSFFCCQzQvQFCFF\nHLvLDQbvnDQDvbHTLhntSnGBSlfGldddcmfMMf\nNgFjZjrZZJrlfJfSVcBJGc\nscWCNFZpsjzrDLwLhbQzhQwD\nSlqJlThDPqpwSTwhcbDdbWDbZGcZNcDb\nMsnWWjHjvLvfscjjgdzNdbgbcc\nvQQvWVQFLLHfHVBWfsfmFFpJRhhSplqlRJqpBwlqTCPC\nDZbDzzZDjQbPGZFFSSgSlFCzTgzm\nqLnvwvhddrqMrwrCTLLFJjmtSlFlSH\nVdhvsWqdVWvvRhsvqbpbPcZfPpjZGBQNRj\nmJNtNFmzDZtzdzrLtwwRqJSchgfGcRfwRB\npWpjQjCTQnHMWCCpjQpHvTqcwTwScfRcBcSGBRThwS\nMQHjvjVCCqsvljWnVQzLtNPZzmzLVNLddtPN\nQVRPRVDgsRjLssnL\nTTGDJDJfbfLHSnsMWWbs\nqGqqTFFDqgQgQQQq\nnlMnRRjbMjCdJVQJCZ\nnGqfLwfNLFNLnPPGFVVCdVGZJtCtCCVzJz\nLHHfPNHnPqqLwqPqDPWfNFvMglbhhbMgmclgcllDmgmrcl\ncLLWWSThtdLpRcddcgPRZFDMCVPPMCCPCPCZ\nNfGbGNzrBNffGNJjbPPZsZmZZPmDHpMH\nzlJBfzlQzNjNjfJcpwSdvWhcvLwQWt\ncVVQfVCJVrVcTJnfNvlDFmDrmlvrFWlL\nsnZHpMhZtMbtPNvzHWWvNFNvNW\ngppnbbbRgMnZbswRqRwbqTcCCSTCJJdGjgfVGTdcCG\njplgNdrHrrNZgdHmlHNJHddlDSPPSTlzTSlTSDSzCQLfzf\nvscvWWWvGWGGscbFMpRWFwQTPzfLQwQwPfLbzSzzDL\nGvGBWpqcMVRNNZHgdHdtBJ\nLchbZhjjZFjwSmPRqRffqbdtggdR\nvWHMWlHJdGqtRqHV\nMvzCJlnMnlTNnNNLLdhjjCdjjhDjjL\nFNCllHFvCGvwQcPQJfgfmwgh\nzjtRpbDLjtsrzbLLQmfBTgTBQQfhbfQB\nWLgqRzqsrWvFGFZFZC\nqjLlNcLjcNWpQLlQMmvmhCvCgsMZZghj\ntGSDJtRGJzHMMGDVZCfvmfhzmZZgZsmv\nBSSRDRHBGHtSSSbGJSwHbNcLQddqMNlrqcMQMldBWc\nJSfctrtctDpszHvzVQHr\nglCWjhWmFjlmlhmdWPhVVznvcHjszbvvpHvznv\nFgBmFhCBCGFqglgmhCFmSTSRLJLLZfSRJcDSGMtM\nvZGlFFtLMLdShSSShRVtVf\nrQNvmznWPNCPNsrCsbWbsPCvjShhhfHBBHJjSJRhjSRnHhSj\nmCNsQCmqszNcQzrzrrzWvGgGMgpdFpMLlFZGwcLDdg\nQJRJQDlcqLlWbNGL\nHCnwwsCrnstLWqtWNgZNgg\nrsnTrTCHTnnVwnsVPqqDQcRjcczMPvPRzM\nqCzjqnzVdzrdhnhddDbDBMPttcGBDBDPnc\nsZgRQWHgWHHLsgsRRZsJbpJlDcDGNcTDFtGNFFcJNFPBPBTc\nWggbRQSRRgRSsWWmbHqvVffVwhzvCdmfhmdV\nlhqWcNpQGcNmmHmNPWCsQzQsgrQrBMCMbMVM\nwDLFFDJvSFFZRDZSzCrzTzsRgVWbCrMW\ndFwDtZfdjFZWFFfmHGPnPPmqfmPNcN\nlcMRNJRGGLJnNVFbVrwrwZrD\ntjCzQjQhQwgWFShVFS\nffHQsQssQTzBsPnLpMPRwsJP\nMQSMSBSRFMQLJChLChjTBh\nWmVlPrwnpwDlflNpDrNnDlDwThJCCdLJhhdhCfJTccGjvscd\ngnDVnNnwgglwDwptSZFzgQHqbjZgZZ\nnwBcFgwTDcNrpZMD\nWQWCLZmvhMRvNjsNSD\nCGGWmZGHHhtVzHbTqgTdbgzz\nRmcTCwvssRbsThTcVRJJfSPqfJwJFqfjfMFq\nzQNZDWtQlDZGBQPfFQqjJLjL\nrrglggZGWnrnrrHlDhsbsPTVCsCVsTRpHv\nwFGfzSvCPGttSzqwmtqmvvPRDDRCWgWWDTBTMcBcBWbCRM\nhVJJHQHnpWnDTNnnDb\nLJsVVdhQqvmdbbSf\nsrlJztzsVVsSsVtRlNllTWzzmqGhqWLPCDCgmChPLDdqCmCP\nbZQMZpbvMBMgmDGmZLSPZd\nMpScMSMpvfjMBcBcfMfSBnzlTjssNszrNrtlTVzlzFVN\nrCtgrgClprGGClnJCZmwtMjZRjbjjcjZQv\nPWVfBHWPdbNfbbRmRj\nsPsVqFPsHWLhBVVqHFqPVddWSDLJgpTCnnrRRLGpJSSTRrgT\nzjqpGjrQjGqSHCVvCrRZDN\ncTdshMhdmcMNmddRHBhvCCBCCvHZDC\nJTmTmJnLTdwzNQpPWJWgpP\nBmpZmrzZnznHbpprSbQSQbqdSVqbPQcV\nfRGTGJZRTTDwJTJRGDfgJgNFlSSFcldfdccFVlPlFFQPSQ\nGvTTTZZLmsntzmCL\nVhMcrmbhvzMSnhvftbRbllLtglBBtf\nHqqqJqDqPjJPNjjDVFDZCdqBtRtGBGlGRfQQgttQfHlTQl\npCZJPqqZpmhvhpVh\ndWLBJHJhGJGMBJRcDLDSQsSQpvcR\nZlnnPqglblfRRpSvSsnz\nsPTgZVjjmwVTljrwTTlbwVGdJhBNNdFdMGNHHJMjBNFN\nFhFrfbfgbLRdfqfrmvDgLdjrcQtSNStHHHQlSjJJPllt\nCnspzZWTpCnMVzzZZGZRCzttHNjNlQlSNtNlNjVcjlQS\nGCZsZBRwnvwfbqwFwb\nbZnJFJgLFRnqQZqJQJFQGpCLNcGlLllClNtccjGc\nrVfvwPDhPHGtlcbClr\nmBhshsfMvBvqsQJdTbgnqQ\njgWHqMSWMGqWjWjqbWGJQDfVqLfrfDfJhVLfTr\npPplwsRZPFZFtLhfwgfwrhJL\nzlRsdgFcRgmjdBCMHdjHWB\nqJSGJSPQWzcprtQZtt\nmBMVfsNBnZzcNtcc\nLMLBsmMlvBgFsghVVvfgLBvbJJSqgGHqPGPtCWwbJHqCPG\nZvZLcdMGVMlHDvDpvqhH\nNNSrQNbJbrTnnWZDDZqqhqpW\nwbgNJrsrCwwJQZbsrJBFzjCCdzGdjcGzMdzj\nJbVmdVLJJJdQMnzmmMgHjPqqjNgvqwngHNNP\nZfffDZZsRpcpRDcCRrlpplcWSSgwgSwjvvsjPSwhNSWggh\ncCtfppZrpjtMMmdQQTLz\nTtbnmbdmTmgTlPNhqvqj\nwrwrLsVZRsJJJsfHjvPPWfhjHqRN\nsDZwDvsCCQLJZQJQsMCMzZBtSMpndcSFnnSBFtSBmdBc\nmWFTZdmQdZFrFQbCRsrspjSjnvCLRS\nGwlDqcNHDzwGfHSRqCgJsSpnvpSL\nNGlcNwHLLGfDDHDhDwDcwVczbPddZtMFWttWWtdPPdQdhPWd\nmnfcZgcdZqnqdfFqPmHfhqsbgVMCJNMtvCJtMvtblTJtvb\nrRLDDjPSjjPDGBQSBNbtLVtbMNNJlTMtbl\nSzjDDzRRpGQDDDPHzdsmnnhsqcqdFq\nZDGNRDGjSdwnnmnsVNsHJJ\ntMBWWrddLPLhvWTTPLccvmmbVpgsJHmccppJ\nClPrtBWWrhrFLBPlCRzjzGqdRzjRdRGZjF\ncsTRNQNJcNBDLfhfMf\nqGmWpGHqrqPLChPRhVFPDD\ntgHrtnrrJnZRTZcv\nFLqrfmLDrqCmqjTqcbGqRTGVvb\nFMtWMSWzzFStJzPzhWzhQvTvHVjjTjHTTHvbHc\nPgtWWstWtSpZWPzWwnrBsdBDdFLfllLlfC\nmThbMDMQDCDbwLqWpqPpdhwR\nzgrcffgHNZltZSgHLsRsLLWRWgLqppsW\nSVlSrfSHlSSVlrJfVctlNDMCmMFbnbRDbDBFJFbBRM\nPrBrWqtRPdBLLrBwqpswgpwhgpnZhhzsgw\nFTFRSVJQVJflFfQQgggGMZngGQZszZ\nTbmfFJFSDFblSTDSFFbmVSDrPLLWtcmBqqRmBtmcLtcrjP\nDjPsMwDjLVVTsvNNRTNTRT\nztdQQHqHlFNtfRNNNMgg\nFzhMhHQlDcCrhCCc\nzSHGzzmHgnnMDLTNTG\nlPVBtvhQjpNSMWTLBD\nVCftbjvbVCfPbZwsJsrSgSSZwC\nCbwgmvMnmnCwMmwRQqJBGBgHZHpJHdtdZpJt\nzVSlNSDlrzNhqlNTScDzVWfBBZZZZGBstGsdsWFpdHdJsW\nNDlLzhrVcqRPCMRwLLLw\nTjTHHLwnLjVlTwLjgVfvsFvDsdWfvDvFMd\nqbRRRpmpcmDcczppztSqSvWFssFGfWdMvfQWdfsG\nRZpqDBmtrzhzphjTgjHlnwjgJhgJ\ndLmMgdgzwDLzDWFhBWvzFzzBZJ\ntTVcppbSTfstTMMHfTbhBchhJFCWcjWBZhjGGB\nSSSSNbsNRpRRsRrfVHfRpNtlPgQDLPdMmlDLlrPnqPdPLl\nqqbTCSqdqqFZdRLZhwhZ\nHWWlHtlrBfGtVssnsLnHfJVPPMMFzhPRwMPwFhzPZzPMGM\nnfmtsrlsnrfVnHJrVBWlsVfgbbNTNSvmvvpcTjLjLbqvvS\nGGhFvGPFcThqffPdnfNLqZZCSwtQSwZpwQQBsL\nRglMRrJJgHBCBZSQQpdr\nWmbRHHbzDgJMDzRDMdWmWHzHNFFvvGGhnvVvvfcvnFfcbvnT\nQsfQmsLfZZZcshnJ\ndSgdWgSVVFvzSpqFdqTgWRHbJNcbZNCTJCNNZRRCCh\nFcpVjgDvVVFdVWFvzjwwQtBMLtBBGDwftPrB\nrqsRrHsvsPqswNcJcNJrnnBrNn\nbFjgGFdbVRNNnpRQpV\nGSthhggGDSvMRqtHvMfM\nZwVPgMsgVsGzVsRZpgpzzgpFMrNbbLFrDLFFrrSDLfrNBN\nqvnjBhQhntbfDLrF\nCJlHHcHcTWqvpBdsWRpdPdgs\nBjmTDjJBCBWrgQRPFlWWlW\ndHphshtdtVHVhpJqspdvRrqFPgrLPPFPrrRPvQ\nsdMsMtStVszpwMzHjJGjCcZjmScNfCDf\nDmGdDffgDSDDdJstqdJldlRt\nMhnvMCZCbbZHMvsCHtrcVrPjJcRqVtlt\nLsQbsFZvZhQzZwhQWTNgBWpNwSGpTmfS\nRRJQnCzbZZLTZJCBtWvFtsfqBqtfWb\nprjlChGNldGNdlSVMhWfqWtfsvwvqsFtdtsq\nGGjNDNhpMGMGVhrnZZTzcTHCCJcDHc\nRmbMmjgpPjMBsBMfchhVsc\nHwFWFTztSrtFpcQvBsSqVscBBC\nzWwnJFHtWWHDgbGgdpGpnl\nmnbWbRRLRFnmmWcCDTBVwCDBlwNW\nggJPtpdHGfdZtMHgtZgVPPBCVsPNBcsBTTDDCC\nhpvJJTpGhdhtJdMHqvmmnLvSbmnFnRFm\nWWtrWrNgVbRjMrQCNzqJFwQJFNTJ\nLdHPhcdchQQssLzJrz\npBccnHpnrrcGHnnSlWjnRMSlbt\nNMMfNFnZgMVThhTMcgTDJDJjsVvvJJqJmHsqHG\nLQpwwprCQzBNBdGjGjHswswdvm\nCBCzzCrbWbSlNQnTRgPPfFRWnfgc\nRFwHVQRwFgTQSFVhdsdHsBdDBnnqnq\nLGftLtPGGMzlNrhlPqPsrJ\nfvGpWpMtccpTwwpRRQhh\nTTJCGdTGtZRQQCnzcnCv\nFWWHPSFNFbDbDDqSWnVmLRRjRRQLhcmLjS\nqPwPWwFppbwggGZGfdJZgdnGdd\nzSTWzrzWTLWpCtCGpqqGgplc\nnZWwsJVZZBnJHJCclHllgtChgCgc\nDFnVBJsFssVVFBFnBdfvjDSmTMWzrmMfRmTv\nMJmgMssrsggqqMVstbwTcTbPbTTwThmw\nNRBBGRjHVRRcRbCp\nQnSfzLWzNHzNVQQVjrglJMsMFvgJdFWrgZ\nggLLGnhgnPvJHZnN\nVBtmVSldbSBVlcNPHvjmNcwNZZ\ntdWqSVSSBztVWGrThLhfrfvG\nTDqrjdSwLqDppdTCdzPBFmmjQmhHFPFQhPFR\nzlGbMcVcVtsPHFRhWRRsPF\nbtgvlVVcDZZZqgrz\nDgwlgbbFDDjjPTHDrmddPhPV\nWqtMBBtQsttMNWQBqsbJpGGzdPdTHLVmTzJhmTPhHHPTmH\nqQsqGZNQtZGMNsNtZpFnjnCRbZffwwSRljFf\ngMdFLCdnMZCTFFCqnTgWLCHfSgPgPHStcQQmfSBBSfHg\nvrwwrwzbGjjswjvhGGsjPQmqRmHPbBtcBQtqfmcH\nqzJllVsGVGljjsrzwDzhwzDGTddNLFnZWNdpCVWTNTZTLZCF\nLtwMhDtctwbwwppdWBJQJBWPvPfDfqvG\nFTzrNrgSRFrgzFRHNVFQJvlqHjBvQWlQWqPBfq\nsFgNzmVmNzgTvVTMwhMhstMwZtsbsc\nMrBDQVzzlrvhQzQrDMVQrzrzgRJnRRwwRbwSwwVRRNSgwwwJ\nqFTPTvfTHcqqncpcwR\nLmtdGGPmTPGCTLHLWsZMhvZMMMzrzzdlMQ\nZVNpjfpZNpfNgNjzNVfWtnbbWmBHtsZWBSZBGS\nMrDrQvvDrPLDMvFvdmBGGsBBCtsHrnrGCm\nltRMwLLDDRlvQwvlQcwhqfcJNpgzjJpjhJ\nsRRRlRbcFbBBdnFBwCGppNvGrTCDDGVNlr\nPPSLQzHjzZZPLZPjgTNTgpCbVJvGrNCTGr\nZLHHPQjhQmWWSRRnssdtbnmfwF\nGRwrMrHJGwJPGWsgfqQgsc\nVbTvLQCZLSWWsgWf\nTVDvVCvppvTDmzZVTbZpTzBBNQQQJlJBBJBNNJmRBwRH\nshJRWJsjZGNjSTrjFS\ndMLCddggldQzMCCVgzVVLmLvTwNFFSqpNSqSbFGSqTTpMTFN\nVGQvVglCLcVzgdddCDVvlsPZRRBDJPHZWZZnBsWJRR\nCrwlwhRCMrswnsHBFccHHWFc\nQJTmtfQgLtzQfLQfdPcWSFHHDDSpcFpFBg\njTQTqbfQfmLbLQJbJrRCWjljZGjNrZlZlC\nJmthDmLShtJmHphphJQCwjdjdFDzFgzFdgdNlC\nsbMTVBrWMbNvVMnsWMnVzjsjwCfjFgfZzfdgdzlj\nNvqbbBcMMPPSqLSpGGthmp\nRfGWFHlPFFNWGFZRZBjvwCvzBwhhrvvjzmrr\nsLJSLMSTSJTbStJtMSqSqbpMrvmrzWdvhmjDCzzwrrpjdDDv\nSbQqsqsWcZPcQGFG\nBjqbMqMVBsfqGqFqGLmF\nZZQbQPddPcwbPnRQltdtQZdnmFNrvfhGrhrWWFNWWtmNFNNW\ndJJQccnRPpcbQcMHsSgSMsDMTJSg\nWWGBBvPflnWbBWhvhbPvNfnnVCFZmVRVZmVGMVwRLCCCGwVC\ngjszgTMrgzgqCRRdmJRjJLVw\ngrzQHzqczMSzqSHcgQsqPvPlbNblpPhhPPbHvnhp\nsJDDNWdnRLTTvqwSFPCmLCCrCq\nthzplgfjglflFcbMclpppMfcwPqCZQCmqCwrzCqmQmHSqPqq\nMhcpFBMBlhjbBTdnNJWvNvsvBd\nczwwghnWWfcfgwfWthfrvVvrjdrdvDDVrbzrLF\nRHPPMRpQPRMPPJRjJQsZsrrvvJBDDVDVdFqrBrFdBv\nsmjMsGZHRsHSmRQNGHPpSTwwttCflwngnChcCtWW\nbprrrwrtLDtrWwrQjRDQDbPPVHVmmmmHNWlPlVNPZZlv\nhqqhfnBCTfnnhzJwzsqzfPZZMCCVZVHHFvZMFvZmlC\nTzhhdJTqJzcBdJJnzjtQrLdjwgLtpbgrLQ\nqzQvzzgWSCqtqqGpddGc\njLrZNZhZrNRLHNffhrjNjNdtdZtGcPFwFwpbGwbVpdwC\nnHnhrLNCCMHmhHBMhrzvgJvsWSWMWzzWzSlv\nRzcbzdRFzbbzbzbFdZFTHMZPhVhVQMLrlrQPhLZlMM\nBNGfBvsNttVmMhlMLm\nBwGjpllswfjwpcFDWcWcbpdb\nSjzpswrLSDjVSpwlmZJBTBdNJLvBNvHQZT\nrCcCtbqgCfthggtbGGMqqghqZQvvQTBNJQHQZQTcZTJFZFFd\nCggGMtqMfWbbGghPhhbCMtmsSppSspjpmWzjVSWlVrrm\nPmWTPThTQWnLWQFl\nVNcSVfMbtsddBQNnNpdl\nsSjctwjVSzzccjgnTnDTHRDhqjRR\nWfMWfCNCjWWHNTccMjRjfRcMbqSwfVwqwsfGGbssrJSrswVw\nllLFQLlvlPFnhQBPBZQBqvBwzSzGGhShJVwShmsJbbmzSG\nlnPqvQZBFFBnnpgplFvtvHDjTdcTjTMMjCRNCMWgRC\nrprFNFFNjNLmMdgcqL\nBvzCQQbBQgffsDbvVHMdbcVqmLVqlmqq\nJvJCzBDJwnsRnQDszCBnnnQBrjZPjFpgZFTFZRpTrpZFGFtT\nwBHQQZHVCcpwDgdZdMsZjvMZFn\nGPSzlNlJLfzzzvsWdWLMmFWLMM\nNfqGSfrTNzRTqJfRbptQHFQFrwrFHBHw\nsNjVMVNVMzPzQgghcMsNzJtjSJtTFDTJtJnnDLjDnL\nCHwrdCpvCrwrWdpZqcpFttJSFJTLLHLJfbnbfD\nqrlZCwlqZrqqpWdlRqCRqdqcVNsVMzQzmNgNPBsRhVQVVzMs")
